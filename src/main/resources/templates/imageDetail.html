<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security" lang="en">
<head>
    <meta charset="UTF-8"/>
    <title>Sirius</title>
    <meta name="description" content="Описание страницы"/>
    <meta name="keywords" content="ключевые слова, фразы"/>

    <!-- Styles -->
    <link rel="stylesheet" type="text/css" th:href="@{/css/style.css}"/>
    <link rel="stylesheet" th:href="@{/css/reset.css}"/>
    <link rel="stylesheet" th:href="@{/css/base.css}"/>
    <link rel="stylesheet" th:href="@{/css/main.css}"/>

    <!-- Web fonts -->
    <link rel="stylesheet" th:href="@{/css/fonts/sofia-pro/stylesheet.css}"/>
    <link rel="stylesheet" th:href="@{/css/fonts/circular/stylesheet.css}"/>

    <!-- Open Graph -->
    <meta property="og:type" content="website"/>
    <meta property="og:title" content="Приложение для курсового проекта"/>
    <meta property="og:description" content="Система продажи цифрового контента"/>

    <!-- Favicons -->
    <link rel="apple-touch-icon" sizes="180x180" th:href="@{/img/favicon/apple-touch-icon.png}"/>
    <link rel="icon" type="image/png" sizes="32x32" th:href="@{/img/favicon/favicon-32x32.png}"/>
    <link rel="icon" type="image/png" sizes="16x16" th:href="@{/img/favicon/favicon-16x16.png}"/>
    <link rel="manifest" th:href="@{/img/favicon/site.webmanifest}"/>
    <link rel="mask-icon" th:href="@{/img/favicon/safari-pinned-tab.svg}" color="#1a60cf"/>
    <link rel="shortcut icon" th:href="@{/img/favicon/favicon.ico}"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <meta name="theme-color" content="#ffffff"/>
    <style>
        .profile-head {
            transform: translateY(5rem)
        }

        .cover {
            background-image: url(https://images.unsplash.com/photo-1530305408560-82d13781b33a?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1352&q=80);
            background-size: cover;
            background-repeat: no-repeat
        }

        body {
            object-fit: cover;
            min-height: 100vh;
            overflow-x: hidden
        }
    </style>
</head>
<body>

<main class="main container">
    <div th:insert="~{fragments/uaNavbar.html}" sec:authorize="!isAuthenticated()"></div>
    <div th:insert="~{fragments/aNavbar.html}" sec:authorize="isAuthenticated() && hasAuthority('USER')"></div>
    <div th:insert="~{fragments/adminNavbar.html}" sec:authorize="isAuthenticated() && hasAuthority('ADMIN')"></div>
    <div class="row">
        <div class="row mt-3">
            <div class="col-lg-12">
                <div class="card-local-image" style="background: rgba(187,213,250,0.31)">
                    <div class="row">
                        <div class="card-vertical card-product">
                            <button class="card-product-fav-btn" style="margin-right: 10px">
                                <svg width="15" height="14" viewBox="0 0 15 14" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M7.85293 2.23726L8.42959 1.64303C9.74052 0.290397 11.8283 0.101266 13.2084 1.27703C14.824 2.65601 14.9109 5.13801 13.4608 6.63449L7.79659 12.4831C7.62714 12.658 7.35815 12.658 7.18871 12.4831L1.5246 6.63459C0.0772874 5.1381 0.164165 2.65614 1.77968 1.27715C3.15989 0.101085 5.25089 0.291 6.55863 1.64303L7.13529 2.23726L7.49411 2.607L7.85293 2.23726Z"/>
                                </svg>
                            </button>
                            <button class="card-product-edit-btn" style="margin-right: 10px"  th:data-thing="${image.id}" onclick="window.location.href='/image/edit/' + this.getAttribute('data-thing')">
                                <svg width="15" height="14" viewBox="0 0 73.401 13.4"
                                     xmlns="http://www.w3.org/2000/svg">
                                    <g id="svgGroup" stroke-linecap="round" fill-rule="evenodd" font-size="9pt"
                                       stroke="#000" stroke-width="0.25mm" fill="black"
                                       style="stroke:#000;stroke-width:0.25mm;fill:black">
                                        <path d="M 2.063 11.462 A 6.418 6.418 0 0 0 6.7 13.4 A 8.605 8.605 0 0 0 7.323 13.378 A 6.461 6.461 0 0 0 11.5 11.55 Q 13.4 9.7 13.4 6.7 A 6.225 6.225 0 0 0 12.822 4.029 A 6.955 6.955 0 0 0 11.35 2 A 8.478 8.478 0 0 0 10.829 1.531 A 6.325 6.325 0 0 0 6.7 0 A 8.813 8.813 0 0 0 4.848 0.185 A 5.979 5.979 0 0 0 1.8 1.8 A 5.927 5.927 0 0 0 0.233 4.64 A 8.624 8.624 0 0 0 0 6.7 Q 0 9.4 2 11.4 A 8.317 8.317 0 0 0 2.063 11.462 Z M 32.063 11.462 A 6.418 6.418 0 0 0 36.7 13.4 A 8.605 8.605 0 0 0 37.323 13.378 A 6.461 6.461 0 0 0 41.5 11.55 Q 43.4 9.7 43.4 6.7 A 6.225 6.225 0 0 0 42.822 4.029 A 6.955 6.955 0 0 0 41.35 2 A 8.478 8.478 0 0 0 40.829 1.531 A 6.325 6.325 0 0 0 36.7 0 A 8.813 8.813 0 0 0 34.848 0.185 A 5.979 5.979 0 0 0 31.8 1.8 A 5.927 5.927 0 0 0 30.233 4.64 A 8.624 8.624 0 0 0 30 6.7 Q 30 9.4 32 11.4 A 8.317 8.317 0 0 0 32.063 11.462 Z M 62.063 11.462 A 6.418 6.418 0 0 0 66.7 13.4 A 8.605 8.605 0 0 0 67.323 13.378 A 6.461 6.461 0 0 0 71.5 11.55 Q 73.4 9.7 73.4 6.7 A 6.225 6.225 0 0 0 72.822 4.029 A 6.955 6.955 0 0 0 71.35 2 A 8.478 8.478 0 0 0 70.829 1.531 A 6.325 6.325 0 0 0 66.7 0 A 8.813 8.813 0 0 0 64.848 0.185 A 5.979 5.979 0 0 0 61.8 1.8 A 5.927 5.927 0 0 0 60.233 4.64 A 8.624 8.624 0 0 0 60 6.7 Q 60 9.4 62 11.4 A 8.317 8.317 0 0 0 62.063 11.462 Z"
                                              vector-effect="non-scaling-stroke"/>
                                    </g>
                                </svg>
                            </button>
                            <a class="card-product-link">
                                <img class="card-product-img" th:src="${image.getPath()}" alt="Product"
                                     style="width: 100%; object-fit: cover">
                            </a>
                        </div>

                        <div style="padding: 10px 30px 50px;">
                            <div class="row">
                                <div class="col-lg-6">
                                    <h2 th:text="${image.name}"></h2>
                                    <p th:text="${image.description}"></p>
                                </div>
                                <div class="col-lg-4 offset-2 justify-content-center text-center"
                                     style="padding-top: 30px">
                                    <img class="bd-placeholder-img rounded-circle mx-auto"
                                         style="height: 140px; width: 140px; object-fit: cover;"
                                         th:src="'\\' + ${userData.profileImage}">
                                    <rect width="100%" height="100%" fill="#777"></rect>
                                    </img>
                                    <h2 th:text="'Author: ' + ${userData.username}">Heading</h2>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row" th:if="${image.isSellable && !image.isOwner}" style="padding-bottom: 150px">
        <div class="row mt-3">
            <div class="col-lg-12">
                <div class="card-local-image text-center" style="background:rgba(250,198,236,0.31)">
                    <div style="padding: 10px 30px 20px;">
                        <div class="row">
                            <h2>This image is on sale!</h2>
                            <h3 th:text="'You can buy it only for ' + ${image.price} + ' ERC'" class="pb-4"></h3>
                            <button class="btn btn-primary" th:data-thing="${image.id}"
                                    onclick="window.location.href='/gallery/store/buy/' + this.getAttribute('data-thing')">
                                Buy
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </div>
</main>
</body>
</html>

